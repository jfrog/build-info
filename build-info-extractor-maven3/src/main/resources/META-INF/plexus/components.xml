<!--
  ~ Copyright (C) 2011 JFrog Ltd.
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~ http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<component-set>
    <components>
        <!-- A helper class for the ArtifactoryEclipseArtifactResolver abd ArtifactoryEclipseMetadataResolver classes -->
        <component>
            <role>org.jfrog.build.extractor.maven.resolver.ArtifactoryEclipseResolversHelper</role>
            <role-hint>default</role-hint>
            <implementation>org.jfrog.build.extractor.maven.resolver.ArtifactoryEclipseResolversHelper</implementation>
            <requirements>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ResolutionHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>resolutionHelper</field-name>
                </requirement>
            </requirements>
        </component>
        <component>
            <role>org.apache.maven.plugin.internal.DefaultMavenPluginManager</role>
            <role-hint>default</role-hint>
            <implementation>org.jfrog.build.extractor.maven.resolver.ArtifactoryEclipsePluginManager</implementation>
            <requirements>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ArtifactoryEclipseResolversHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>helper</field-name>
                </requirement>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <field-name>logger</field-name>
                </requirement>
                <requirement>
                    <role>org.codehaus.plexus.logging.LoggerManager</role>
                    <field-name>loggerManager</field-name>
                </requirement>
                <requirement>
                    <role>org.codehaus.plexus.PlexusContainer</role>
                    <field-name>container</field-name>
                </requirement>
                <requirement>
                    <role>org.apache.maven.classrealm.ClassRealmManager</role>
                    <field-name>classRealmManager</field-name>
                </requirement>
                <requirement>
                    <role>org.apache.maven.plugin.PluginDescriptorCache</role>
                    <field-name>pluginDescriptorCache</field-name>
                </requirement>
                <requirement>
                    <role>org.apache.maven.plugin.PluginRealmCache</role>
                    <field-name>pluginRealmCache</field-name>
                </requirement>
                <requirement>
                    <role>org.apache.maven.plugin.internal.PluginDependenciesResolver</role>
                    <field-name>pluginDependenciesResolver</field-name>
                </requirement>
                <requirement>
                    <role>org.apache.maven.rtinfo.RuntimeInformation</role>
                    <field-name>runtimeInformation</field-name>
                </requirement>
                <requirement>
                    <role>org.apache.maven.plugin.ExtensionRealmCache</role>
                    <field-name>extensionRealmCache</field-name>
                </requirement>
                <requirement>
                    <role>org.apache.maven.plugin.version.PluginVersionResolver</role>
                    <field-name>pluginVersionResolver</field-name>
                </requirement>
                <requirement>
                    <role>org.apache.maven.plugin.PluginArtifactsCache</role>
                    <field-name>pluginArtifactsCache</field-name>
                </requirement>
            </requirements>
        </component>
        <!-- A helper class for the ArtifactorySonatypeArtifactResolver abd ArtifactorySonatypeMetadataResolver classes -->
        <component>
            <role>org.jfrog.build.extractor.maven.resolver.ArtifactorySonatypeResolversHelper</role>
            <role-hint>default</role-hint>
            <implementation>org.jfrog.build.extractor.maven.resolver.ArtifactorySonatypeResolversHelper</implementation>
            <requirements>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ResolutionHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>resolutionHelper</field-name>
                </requirement>
            </requirements>
        </component>
        <!-- A class responssible for enforcing metadata resolution from Artifactory, for Maven 3.2.1 and above -->
        <component>
            <role>org.jfrog.build.extractor.maven.resolver.ArtifactoryEclipseMetadataResolver</role>
            <role-hint>default</role-hint>
            <implementation>org.jfrog.build.extractor.maven.resolver.ArtifactoryEclipseMetadataResolver</implementation>
            <requirements>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ArtifactoryEclipseResolversHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>helper</field-name>
                </requirement>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ResolutionHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>resolutionHelper</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.spi.io.FileProcessor</role>
                    <role-hint>default</role-hint>
                    <field-name>fileProcessor</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.RepositoryEventDispatcher</role>
                    <role-hint>default</role-hint>
                    <field-name>repositoryEventDispatcher</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.VersionResolver</role>
                    <role-hint>default</role-hint>
                    <field-name>versionResolver</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.UpdateCheckManager</role>
                    <role-hint>default</role-hint>
                    <field-name>updateCheckManager</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.RepositoryConnectorProvider</role>
                    <role-hint>default</role-hint>
                    <field-name>repositoryConnectorProvider</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.RemoteRepositoryManager</role>
                    <role-hint>default</role-hint>
                    <field-name>remoteRepositoryManager</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.SyncContextFactory</role>
                    <role-hint>default</role-hint>
                    <field-name>syncContextFactory</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.OfflineController</role>
                    <role-hint>default</role-hint>
                    <field-name>offlineController</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.internal.impl.slf4j.Slf4jLoggerFactory</role>
                    <role-hint>default</role-hint>
                    <field-name>loggerFactory</field-name>
                </requirement>
            </requirements>
        </component>
        <!-- A class responssible for enforcing metadata resolution from Artifactory, for Maven 3 versions prior to 3.2.1 -->
        <component>
            <role>org.jfrog.build.extractor.maven.resolver.ArtifactorySonatypeMetadataResolver</role>
            <role-hint>default</role-hint>
            <implementation>org.jfrog.build.extractor.maven.resolver.ArtifactorySonatypeMetadataResolver</implementation>
            <requirements>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ArtifactorySonatypeResolversHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>helper</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.spi.log.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ResolutionHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>resolutionHelper</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.impl.RepositoryEventDispatcher</role>
                    <role-hint>default</role-hint>
                    <field-name>repositoryEventDispatcher</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.impl.VersionResolver</role>
                    <role-hint>default</role-hint>
                    <field-name>versionResolver</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.impl.UpdateCheckManager</role>
                    <role-hint>default</role-hint>
                    <field-name>updateCheckManager</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.impl.RemoteRepositoryManager</role>
                    <role-hint>default</role-hint>
                    <field-name>remoteRepositoryManager</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.impl.SyncContextFactory</role>
                    <role-hint>default</role-hint>
                    <field-name>syncContextFactory</field-name>
                </requirement>
            </requirements>
        </component>
        <!-- A class responssible for enforcing artifact resolution from Artifactory, for Maven 3.2.1 and above -->
        <component>
            <role>org.jfrog.build.extractor.maven.resolver.ArtifactoryEclipseArtifactResolver</role>
            <role-hint>default</role-hint>
            <implementation>org.jfrog.build.extractor.maven.resolver.ArtifactoryEclipseArtifactResolver</implementation>
            <requirements>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ArtifactoryEclipseResolversHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>helper</field-name>
                </requirement>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ResolutionHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>resolutionHelper</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.spi.io.FileProcessor</role>
                    <role-hint>default</role-hint>
                    <field-name>fileProcessor</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.RepositoryEventDispatcher</role>
                    <role-hint>default</role-hint>
                    <field-name>repositoryEventDispatcher</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.VersionResolver</role>
                    <role-hint>default</role-hint>
                    <field-name>versionResolver</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.UpdateCheckManager</role>
                    <role-hint>default</role-hint>
                    <field-name>updateCheckManager</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.RepositoryConnectorProvider</role>
                    <role-hint>default</role-hint>
                    <field-name>repositoryConnectorProvider</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.RemoteRepositoryManager</role>
                    <role-hint>default</role-hint>
                    <field-name>remoteRepositoryManager</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.SyncContextFactory</role>
                    <role-hint>default</role-hint>
                    <field-name>syncContextFactory</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.OfflineController</role>
                    <role-hint>default</role-hint>
                    <field-name>offlineController</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.internal.impl.slf4j.Slf4jLoggerFactory</role>
                    <role-hint>default</role-hint>
                    <field-name>loggerFactory</field-name>
                </requirement>
            </requirements>
        </component>
        <!-- A class responssible for enforcing artifact resolution from Artifactory, for Maven 3 versions prior to 3.2.1 -->
        <component>
            <role>org.jfrog.build.extractor.maven.resolver.ArtifactorySonatypeArtifactResolver</role>
            <role-hint>default</role-hint>
            <implementation>org.jfrog.build.extractor.maven.resolver.ArtifactorySonatypeArtifactResolver</implementation>
            <requirements>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ArtifactorySonatypeResolversHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>helper</field-name>
                </requirement>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ResolutionHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>resolutionHelper</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.spi.io.FileProcessor</role>
                    <role-hint>default</role-hint>
                    <field-name>fileProcessor</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.impl.RepositoryEventDispatcher</role>
                    <role-hint>default</role-hint>
                    <field-name>repositoryEventDispatcher</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.impl.VersionResolver</role>
                    <role-hint>default</role-hint>
                    <field-name>versionResolver</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.impl.UpdateCheckManager</role>
                    <role-hint>default</role-hint>
                    <field-name>updateCheckManager</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.impl.RemoteRepositoryManager</role>
                    <role-hint>default</role-hint>
                    <field-name>remoteRepositoryManager</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.impl.SyncContextFactory</role>
                    <role-hint>default</role-hint>
                    <field-name>syncContextFactory</field-name>
                </requirement>
            </requirements>
        </component>
        <!--Registering both repository listeners (ArtifactoryEclipseRepositoryListener and ArtifactorySonatypeRepositoryListener)
        and at runtime plexus will choose the right one according to the Maven version (org.sonatype=Maven 3.0.x, org.eclipse=Maven 3.1.x) -->
        <component>
            <role>org.eclipse.aether.RepositoryListener</role>
            <role-hint>default</role-hint>
            <implementation>org.jfrog.build.extractor.maven.resolver.ArtifactoryEclipseRepositoryListener</implementation>
            <requirements>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
                <requirement>
                    <role>org.apache.maven.project.ProjectDependenciesResolver</role>
                    <role-hint>default</role-hint>
                    <field-name>pojectDependenciesResolver</field-name>
                </requirement>
                <requirement>
                    <role>org.apache.maven.plugin.internal.PluginDependenciesResolver</role>
                    <role-hint>default</role-hint>
                    <field-name>pluginDependenciesResolver</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.impl.ArtifactDescriptorReader</role>
                    <role-hint>default</role-hint>
                    <field-name>descriptorReader</field-name>
                </requirement>
                <requirement>
                    <role>org.eclipse.aether.RepositorySystem</role>
                    <role-hint>default</role-hint>
                    <field-name>repositorySystem</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ArtifactoryEclipseArtifactResolver</role>
                    <role-hint>default</role-hint>
                    <field-name>artifactResolver</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ArtifactoryEclipseMetadataResolver</role>
                    <role-hint>default</role-hint>
                    <field-name>metadataResolver</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.BuildInfoRecorder</role>
                    <role-hint>default</role-hint>
                    <field-name>buildInfoRecorder</field-name>
                </requirement>
            </requirements>
        </component>
        <component>
            <role>org.sonatype.aether.RepositoryListener</role>
            <role-hint>default</role-hint>
            <implementation>org.jfrog.build.extractor.maven.resolver.ArtifactorySonatypeRepositoryListener</implementation>
            <requirements>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ResolutionHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>resolutionHelper</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.impl.ArtifactDescriptorReader</role>
                    <role-hint>default</role-hint>
                    <field-name>descriptorReader</field-name>
                </requirement>
                <requirement>
                    <role>org.sonatype.aether.RepositorySystem</role>
                    <role-hint>default</role-hint>
                    <field-name>repositorySystem</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ArtifactorySonatypeArtifactResolver</role>
                    <role-hint>default</role-hint>
                    <field-name>artifactoryArtifactResolver</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ArtifactorySonatypeMetadataResolver</role>
                    <role-hint>default</role-hint>
                    <field-name>artifactoryMetadataResolver</field-name>
                </requirement>
            </requirements>
        </component>
        <component>
            <role>org.apache.maven.AbstractMavenLifecycleParticipant</role>
            <implementation>org.jfrog.build.extractor.maven.BuildInfoRecorderLifecycleParticipant</implementation>
            <role-hint>default</role-hint>
            <isolated-realm>false</isolated-realm>
            <requirements>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.BuildInfoRecorder</role>
                    <role-hint>default</role-hint>
                    <field-name>recorder</field-name>
                </requirement>
            </requirements>
        </component>
        <component>
            <role>org.jfrog.build.extractor.maven.BuildInfoRecorder</role>
            <implementation>org.jfrog.build.extractor.maven.BuildInfoRecorder</implementation>
            <role-hint>default</role-hint>
            <isolated-realm>false</isolated-realm>
            <requirements>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.BuildInfoModelPropertyResolver</role>
                    <role-hint>default</role-hint>
                    <field-name>buildInfoModelPropertyResolver</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.BuildDeploymentHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>buildDeploymentHelper</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.resolver.ResolutionHelper</role>
                    <role-hint>default</role-hint>
                    <field-name>resolutionHelper</field-name>
                </requirement>
            </requirements>
        </component>
        <component>
            <role>org.jfrog.build.extractor.maven.BuildInfoClientBuilder</role>
            <implementation>org.jfrog.build.extractor.maven.BuildInfoClientBuilder</implementation>
            <role-hint>default</role-hint>
            <isolated-realm>false</isolated-realm>
            <requirements>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
            </requirements>
        </component>
        <component>
            <role>org.jfrog.build.extractor.maven.BuildInfoModelPropertyResolver</role>
            <implementation>org.jfrog.build.extractor.maven.BuildInfoModelPropertyResolver</implementation>
            <role-hint>default</role-hint>
            <isolated-realm>false</isolated-realm>
            <requirements>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
            </requirements>
        </component>
        <component>
            <role>org.jfrog.build.extractor.maven.BuildDeploymentHelper</role>
            <implementation>org.jfrog.build.extractor.maven.BuildDeploymentHelper</implementation>
            <role-hint>default</role-hint>
            <isolated-realm>false</isolated-realm>
            <requirements>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
                <requirement>
                    <role>org.jfrog.build.extractor.maven.BuildInfoClientBuilder</role>
                    <role-hint>default</role-hint>
                    <field-name>buildInfoClientBuilder</field-name>
                </requirement>
            </requirements>
        </component>
        <component>
            <role>org.jfrog.build.extractor.maven.resolver.ResolutionHelper</role>
            <implementation>org.jfrog.build.extractor.maven.resolver.ResolutionHelper</implementation>
            <role-hint>default</role-hint>
            <isolated-realm>false</isolated-realm>
            <requirements>
                <requirement>
                    <role>org.codehaus.plexus.logging.Logger</role>
                    <role-hint>default</role-hint>
                    <field-name>logger</field-name>
                </requirement>
            </requirements>
        </component>
        <component>
            <role>org.apache.maven.project.DefaultProjectBuilder</role>
            <role-hint>default</role-hint>
            <implementation>org.jfrog.build.extractor.maven.ArtifactoryProjectBuilder</implementation>
        </component>
    </components>
</component-set>